{"version":3,"sources":["webpack:///./src/views/Admin.vue","webpack:///./src/views/Admin.vue?21ce"],"names":["class","loginAdmin","descr","inputRequired","admin","login","password","type","error","length","title","big","data","setup","cookies","methods","isCorrect","this","set","a","post","then","response","status","$router","push","path","__exports__","render"],"mappings":"iIACWA,MAAM,e,GACRA,MAAM,a,EAIP,gCAEK,MAFDA,MAAM,4BAA2B,iBAErC,G,uJAPN,gCA+BU,UA/BV,EA+BU,CA9BR,gCA6BM,MA7BN,EA6BM,CA5BJ,gCA2BO,QA3BDA,MAAM,qBACX,SAAM,2DAAU,EAAAC,eAAU,e,CAEzB,EAGA,yBAIa,GAHbC,MAAM,QACLC,eAAe,E,WACP,EAAAC,MAAMC,M,qDAAN,EAAAD,MAAMC,MAAK,K,uBAEpB,yBAKa,GAJbH,MAAM,WACLC,eAAe,E,WACP,EAAAC,MAAME,S,qDAAN,EAAAF,MAAME,SAAQ,IACvBC,KAAK,Y,uBAEL,gCAIO,QAJDP,MAAK,6BAAC,qBACJ,EAAAQ,MAAMC,OAAM,qC,6BAEf,EAAAD,OAAK,GAEV,yBAIc,GAHdE,MAAM,QACNC,IAAA,GACAJ,KAAK,Y,qEAaE,GACbG,MAAO,QACPE,KAFa,WAGX,MAAO,CACLR,MAAM,CACJC,MAAO,GACPC,SAAU,IAEZE,MAAO,KAGXK,MAXa,WAYX,MAAoB,iBAAZC,EAAR,EAAQA,QACR,MAAO,CAAEA,YAEXC,QAAS,iCACJ,eAAa,CAAC,cADZ,IAELd,WAFO,WAGL,IAAIe,GAAY,EAGhBA,GAAY,EACZC,KAAKH,QAAQI,IAAI,WAAW,GAG5B,EAAAC,EAAMC,KAAK,eAAgB,CACvBhB,MAAOa,KAAKb,QAEXiB,MAAK,SAAAC,GACmB,MAApBA,EAASC,SACVP,GAAY,MAIjBA,GAEDC,KAAKH,QAAQI,IAAI,WAAW,GAC5BD,KAAKO,QAAQC,KAAK,CAAEC,KAAM,QAE1BT,KAAKb,MAAQ,GACba,KAAKT,MAAO,uB,qBC5EpB,MAAMmB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/admin.3743f095.js","sourcesContent":["<template>\r\n  <section class=\"admin-login\">\r\n    <div class=\"container\">\r\n      <form class=\"admin-login__inner\"\r\n      @submit.prevent=\"loginAdmin()\"\r\n      >\r\n        <h1 class=\"admin-login__title title\">\r\n          Login admin\r\n        </h1>\r\n        <app-input\r\n        descr=\"Login\"\r\n        :inputRequired=\"true\"\r\n        v-model=\"admin.login\"\r\n        ></app-input>\r\n        <app-input\r\n        descr=\"Password\"\r\n        :inputRequired=\"true\"\r\n        v-model=\"admin.password\"\r\n        type=\"password\"\r\n        ></app-input>\r\n        <span class=\"admin-login__error\"\r\n        :class=\"error.length > 0 ? 'admin-login__error--active' : ''\"\r\n        >\r\n          {{ error }}\r\n        </span>\r\n        <app-button\r\n        title=\"Login\"\r\n        big\r\n        type=\"submit\"\r\n        ></app-button>\r\n      </form>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapMutations } from 'vuex';\r\n\r\nimport { useCookies } from \"vue3-cookies\";\r\n\r\nexport default {\r\n  title: 'Admin',\r\n  data() {\r\n    return {\r\n      admin:{\r\n        login: '',\r\n        password: '',\r\n      },\r\n      error: '',\r\n    }\r\n  },\r\n  setup() {\r\n    const { cookies } = useCookies();\r\n    return { cookies };\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setAdmin']),\r\n    loginAdmin() {\r\n      let isCorrect = false\r\n\r\n      // Remove\r\n      isCorrect = true\r\n      this.cookies.set('isAdmin', true)\r\n      // this.setAdmin()\r\n\r\n      axios.post('/admin/login', {\r\n          admin: this.admin\r\n        })\r\n          .then(response => {\r\n            if(response.status === 200){\r\n              isCorrect = true\r\n            }\r\n          })\r\n\r\n      if(isCorrect){\r\n        // this.setAdmin()\r\n        this.cookies.set('isAdmin', true)\r\n        this.$router.push({ path: '/' })\r\n      }else{\r\n        this.admin = {}\r\n        this.error ='Something wrong'\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./Admin.vue?vue&type=template&id=a9b6d4be\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workplace\\\\11\\\\launchbar\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}