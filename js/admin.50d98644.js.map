{"version":3,"sources":["webpack:///./src/views/Admin.vue","webpack:///./src/views/Admin.vue?21ce"],"names":["class","loginAdmin","descr","inputRequired","admin","login","password","type","error","length","title","big","data","setup","cookies","methods","isCorrect","this","set","a","post","then","response","status","$router","push","path","__exports__","render"],"mappings":"iIACWA,MAAM,e,GACRA,MAAM,a,EAIP,gCAEK,MAFDA,MAAM,4BAA2B,iBAErC,G,uJAPN,gCA+BU,UA/BV,EA+BU,CA9BR,gCA6BM,MA7BN,EA6BM,CA5BJ,gCA2BO,QA3BDA,MAAM,qBACX,SAAM,2DAAU,EAAAC,eAAU,e,CAEzB,EAGA,yBAIa,GAHbC,MAAM,QACLC,eAAe,E,WACP,EAAAC,MAAMC,M,qDAAN,EAAAD,MAAMC,MAAK,K,uBAEpB,yBAKa,GAJbH,MAAM,WACLC,eAAe,E,WACP,EAAAC,MAAME,S,qDAAN,EAAAF,MAAME,SAAQ,IACvBC,KAAK,Y,uBAEL,gCAIO,QAJDP,MAAK,6BAAC,qBACJ,EAAAQ,MAAMC,OAAM,qC,6BAEf,EAAAD,OAAK,GAEV,yBAIc,GAHdE,MAAM,QACNC,IAAA,GACAJ,KAAK,Y,qEAaE,GACbG,MAAO,QACPE,KAFa,WAGX,MAAO,CACLR,MAAM,CACJC,MAAO,GACPC,SAAU,IAEZE,MAAO,KAGXK,MAXa,WAYX,MAAoB,iBAAZC,EAAR,EAAQA,QACR,MAAO,CAAEA,YAEXC,QAAS,iCACJ,eAAa,CAAC,cADZ,IAELd,WAFO,WAGL,IAAIe,GAAY,EAGhBA,GAAY,EACZC,KAAKH,QAAQI,IAAI,WAAW,GAG5B,EAAAC,EAAMC,KAAK,eAAgB,CACvBhB,MAAOa,KAAKb,QAEXiB,MAAK,SAAAC,GACmB,MAApBA,EAASC,SACVP,GAAY,MAIjBA,GAEDC,KAAKH,QAAQI,IAAI,WAAW,GAC5BD,KAAKO,QAAQC,KAAK,CAAEC,KAAM,kBAE1BT,KAAKb,MAAQ,GACba,KAAKT,MAAO,uB,qBC5EpB,MAAMmB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/admin.50d98644.js","sourcesContent":["<template>\n  <section class=\"admin-login\">\n    <div class=\"container\">\n      <form class=\"admin-login__inner\"\n      @submit.prevent=\"loginAdmin()\"\n      >\n        <h1 class=\"admin-login__title title\">\n          Login admin\n        </h1>\n        <app-input\n        descr=\"Login\"\n        :inputRequired=\"true\"\n        v-model=\"admin.login\"\n        ></app-input>\n        <app-input\n        descr=\"Password\"\n        :inputRequired=\"true\"\n        v-model=\"admin.password\"\n        type=\"password\"\n        ></app-input>\n        <span class=\"admin-login__error\"\n        :class=\"error.length > 0 ? 'admin-login__error--active' : ''\"\n        >\n          {{ error }}\n        </span>\n        <app-button\n        title=\"Login\"\n        big\n        type=\"submit\"\n        ></app-button>\n      </form>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapMutations } from 'vuex';\n\nimport { useCookies } from \"vue3-cookies\";\n\nexport default {\n  title: 'Admin',\n  data() {\n    return {\n      admin:{\n        login: '',\n        password: '',\n      },\n      error: '',\n    }\n  },\n  setup() {\n    const { cookies } = useCookies();\n    return { cookies };\n  },\n  methods: {\n    ...mapMutations(['setAdmin']),\n    loginAdmin() {\n      let isCorrect = false\n\n      // Remove\n      isCorrect = true\n      this.cookies.set('isAdmin', true)\n      // this.setAdmin()\n\n      axios.post('/admin/login', {\n          admin: this.admin\n        })\n          .then(response => {\n            if(response.status === 200){\n              isCorrect = true\n            }\n          })\n\n      if(isCorrect){\n        // this.setAdmin()\n        this.cookies.set('isAdmin', true)\n        this.$router.push({ path: '/admin/list' })\n      }else{\n        this.admin = {}\n        this.error ='Something wrong'\n      }\n    }\n  },\n}\n</script>","import { render } from \"./Admin.vue?vue&type=template&id=5fb97682\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Workplace\\\\11\\\\launchbar\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}